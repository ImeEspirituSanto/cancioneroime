<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Canciones Favoritas</title>
  <link rel="stylesheet" href="style.css"> <!-- usa tu mismo CSS -->
</head>
<body>
  <header>
      <h1>Cancionero de IME Espiritu Santo</h1>
      <input type="text" id="searchBar" placeholder="Buscar canci√≥n..." />
    </header>

     <nav class="navbar">
  <div class="nav-header">
    <button class="nav-toggle" id="navToggle">‚ò∞</button>
    <a href="se√±or.html"><span class="nav-title">‚õ™</span></a>
  </div>

  <ul class="menu" id="navMenu">
    <!-- Grupo CORITOS -->
    <li class="dropdown">
      <a href="#">Coritos ‚ñæ</a>
      <ul class="dropdown-menu">
        <li><a href="se√±or.html">Al Se√±or</a></li>
        <li><a href="jesus.html">A Jes√∫s</a></li>
        <li><a href="index.html">Al Esp√≠ritu Santo</a></li>
      </ul>
    </li>

    <!-- Grupo HIMNOS -->
    <li class="dropdown">
      <a href="#">Himnos ‚ñæ</a>
      <ul class="dropdown-menu">
        <li><a href="himnos-se√±or.html">Al Se√±or</a></li>
        <li><a href="padre.html">Al Padre</a></li>
        <li><a href="himnos-jesus.html">A Jes√∫s</a></li>
        <li><a href="himnos-espiritu.html">Al Esp√≠ritu Santo</a></li>
        <li><a href="perdon.html">De Perd√≥n</a></li>
        <li><a href="navide√±os.html">Navide√±os</a></li>
      </ul>
    </li>

    <!-- Grupo OTROS -->
    <li class="dropdown">
      <a href="#">Otros ‚ñæ</a>
      <ul class="dropdown-menu">
        <li><a href="maria.html">Virgen Mar√≠a</a></li>
        <li><a href="eucaristico.html">Eucar√≠sticos</a></li>
        <li><a href="liturgico.html">Lit√∫rgicos</a></li>
        <li><a href="rezos.html">Rezos</a></li>
      </ul>
    </li>

    <!-- ACCESOS DIRECTOS CON COLORES -->
    <li><a href="canciones_nuevas.html" class="destacado azul">üéº Canciones Nuevas</a></li>
    <li><a href="favoritos.html" class="destacado rojo">‚ù§Ô∏è Favoritos</a></li>
    <li><a href="indice.html" class="destacado verde">üìñ √çndice</a></li>
  </ul>
</nav>
<h2 id="favoritos">FAVORITOS</h2>
  <main id="favoritosContainer"></main>

  <script>
document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("searchBar");if(e)e.addEventListener("input",function(){for(var e=this.value.toLowerCase(),t=document.querySelectorAll(".song"),o=0;o<t.length;o++){var r=t[o],n=r.querySelector("h3").textContent.toLowerCase(),a=r.querySelector(".lyrics").textContent.toLowerCase();n.indexOf(e)!==-1||a.indexOf(e)!==-1?r.style.display="block":r.style.display="none"}});var t=document.createElement("button");t.id="scrollToTop",t.className="floating-button",t.innerHTML='<i class="fas fa-arrow-up"></i>',t.onclick=function(){var e=document.querySelector("header");if(e){var t=e.getBoundingClientRect().top+window.pageYOffset;window.scrollTo(0,t)}},document.body.appendChild(t),window.addEventListener("scroll",function(){window.scrollY>200?t.style.display="block":t.style.display="none"});var o=document.createElement("button");o.id="autoScrollBtn",o.title="Activar desplazamiento autom√°tico",o.innerHTML="&#x25BC;",o.style.position="fixed",o.style.top="80px",o.style.right="20px",o.style.backgroundColor="#c0392b",o.style.color="white",o.style.border="none",o.style.borderRadius="50%",o.style.width="45px",o.style.height="45px",o.style.fontSize="22px",o.style.cursor="pointer",o.style.boxShadow="0 2px 8px rgba(0,0,0,0.3)",o.style.transition="background-color 0.3s ease, transform 0.2s ease",o.style.zIndex="1000",o.addEventListener("mouseenter",function(){o.style.transform="scale(1.1)"}),o.addEventListener("mouseleave",function(){o.style.transform="scale(1)"}),document.body.appendChild(o);var r=null;o.addEventListener("click",function(){r?(clearInterval(r),r=null,o.style.backgroundColor="#c0392b",o.title="Activar desplazamiento autom√°tico"):(o.style.backgroundColor="#27ae60",o.title="Desactivar desplazamiento autom√°tico",r=setInterval(function(){window.scrollBy(0,150)},25000))});var n="otros",a=window.location.href;a.indexOf("jesus")!==-1?n="jesus":a.indexOf("diospadre")!==-1?n="diospadre":a.indexOf("espiritusanto")!==-1&&(n="espiritusanto");var i=JSON.parse(localStorage.getItem("favoritos"))||[];function l(e){for(var t=0;t<i.length;t++)if(i[t].id===e)return!0;return!1}for(var c=document.querySelectorAll("article.song"),s=0;s<c.length;s++)!function(){var e=c[s],t=e.id,o=e.querySelector("h3").innerText,r=n+"-"+t,a=e.querySelector("audio"),l=a?a.src:"",f=document.createElement("button");f.className="heart-btn",f.innerHTML="&#10084;",f.style.cursor="pointer",f.style.fontSize="25px",f.style.border="none",f.style.background="none",f.style.marginLeft="10px",f.style.color=l(r)?"red":"grey",e.appendChild(f),f.addEventListener("click",function(){if(l(r))i=i.filter(function(e){return e.id!==r}),f.style.color="grey";else{var t=e.querySelector(".lyrics"),o=t?t.innerHTML:"";i.push({id:r,titulo:o,deidad:n,letra:o,audio_src:l}),f.style.color="red"}localStorage.setItem("favoritos",JSON.stringify(i))})}();if(window.location.pathname.indexOf("favoritos.html")!==-1){var d=document.getElementById("favoritosContainer"),u=JSON.parse(localStorage.getItem("favoritos"))||[];if(0===u.length)d.innerHTML='<p class="favoritos-vacio">No hay canciones favoritas a√∫n... üïäÔ∏è</p>';else{d.innerHTML="";for(var m=0;m<u.length;m++){var v=u[m],p=document.createElement("article");p.className="song",p.setAttribute("data-id",v.id),p.innerHTML='<button class="remove-fav" title="Eliminar de favoritos">‚úñ</button><h3>'+v.titulo+"</h3><div class=\"lyrics\">"+v.letra+"</div>"+(v.audio_src?'<audio class="song-link" controls src="'+v.audio_src+'"></audio>':""),d.appendChild(p)}d.addEventListener("click",function(e){var t=e.target;if(t.classList.contains("remove-fav")){var o=t.closest("article"),r=o.getAttribute("data-id");o.parentNode.removeChild(o),u=u.filter(function(e){return e.id!==r}),localStorage.setItem("favoritos",JSON.stringify(u)),0===u.length&&(d.innerHTML='<p class="favoritos-vacio">No hay canciones favoritas a√∫n... üïäÔ∏è</p>')}})}}var g=document.getElementById("navToggle"),y=document.getElementById("navMenu");if(g&&y){g.addEventListener("click",function(){y.classList.contains("active")?y.classList.remove("active"):y.classList.add("active")});for(var h=document.querySelectorAll(".dropdown > a"),b=0;b<h.length;b++)h[b].addEventListener("click",function(e){if(window.innerWidth<=768){e.preventDefault();var t=this.parentElement;t.classList.contains("active")?t.classList.remove("active"):t.classList.add("active")}})}}); 
</script>

</body>
</html>
